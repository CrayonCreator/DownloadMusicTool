<template>
    <div id="Header">
        <div 
            v-for="source in sources" 
            :key="source.value"
            class="SourceOption" 
            :class="{ active: currentSource === source.value }" 
            @click="changeSource(source.value)"
        >
            <div class="source-icon" :style="{ background: source.gradient }">
                <svg class="icon" :viewBox="source.viewBox || '0 0 24 24'" width="16" height="16">
                    <path :d="source.svgPath" fill="currentColor" />
                </svg>
            </div>
            <span>{{ source.name }}</span>
        </div>
    </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue';
import { useStore } from '../../stores';

const store = useStore();
const currentSource = computed(() => store.currentSoundSource);

const sources = [
    { 
        name: 'NetEase', 
        value: 'netease', 
        gradient: 'linear-gradient(135deg, rgba(230, 60, 60, 0.9) 0%, rgba(240, 120, 50, 0.9) 100%)', 
        svgPath: "M849.92 51.2H174.08c-67.8656 0-122.88 55.0144-122.88 122.88v675.84c0 67.8656 55.0144 122.88 122.88 122.88h675.84c67.8656 0 122.88-55.0144 122.88-122.88V174.08c0-67.8656-55.0144-122.88-122.88-122.88z m-80.38912 605.91104c-32.82432 77.88032-90.5728 128.10752-171.7504 151.20384a284.83584 284.83584 0 0 1-94.592 10.39872c-66.60096-3.7888-124.29824-28.9536-172.90752-74.4448-47.95392-44.88192-77.85472-100.06016-88.25856-164.83328-14.15168-88.10496 7.55712-167.10656 64.96256-235.61216 31.5392-37.632 70.8864-64.75264 116.77696-82.26304 15.81568-6.03648 33.1264-0.41984 41.8048 13.39392 8.86272 14.10048 6.78912 32.25088-5.49888 43.48416-3.47136 3.1744-7.85408 5.67808-12.2368 7.46496-69.95968 28.56448-116.18304 78.86848-134.53824 152.22784-17.81248 71.17824-2.06336 136.33024 43.41248 193.73056 28.50304 35.98336 65.32608 60.14976 109.89568 72.01792 28.80512 7.66976 57.91744 8.17152 87.25504 3.6352 30.27456-4.67968 58.5472-14.63296 83.90656-31.99488 34.8928-23.88992 59.74528-55.75168 72.17664-96.26624 10.74176-34.9952 11.10528-70.31296-2.16064-105.04192-10.6752-27.94496-29.5424-49.45408-53.20704-67.18464-12.6464-9.472-26.21952-16.87552-41.69728-20.50048-0.70144-0.16384-1.41824-0.24576-2.69824-0.45056 2.11456 8.09984 4.08064 15.79008 6.10816 23.45984 4.91008 18.5088 9.92256 36.98688 14.75072 55.51616 10.48576 40.2688 0.34304 75.55584-27.392 105.62048-25.6512 27.81184-58.31168 39.9104-95.77472 36.28544-41.70752-4.0448-71.4752-26.6752-90.90048-63.32416-10.17344-19.18976-14.56128-39.87456-15.37024-61.5168-1.29024-34.4576 6.75328-66.27328 26.49088-94.70976 21.20192-30.54592 50.57024-50.14016 85.26336-62.32576 2.73408-0.95744 5.49376-1.82784 8.69888-2.8928-1.86368-7.08608-3.81952-14.0032-5.49376-20.992-2.31424-9.60512-5.28384-19.15904-6.44608-28.91776-3.44064-28.8512 5.42208-53.95968 25.35936-74.96704 16.32256-17.2032 36.12672-28.11904 59.84256-31.37536 2.61632-0.3584 5.2224-0.75776 7.82336-1.13664h10.68032c6.20544 1.00864 12.48256 1.72544 18.62144 3.07712 21.57056 4.75136 40.88832 14.30016 57.9328 28.29824 11.1872 9.18016 15.75424 21.15584 12.51328 35.34336-2.90304 12.75392-11.06432 21.34016-23.64928 25.0112-11.89376 3.47136-22.656 0.83968-32.43008-6.99392-12.38016-9.92256-26.12224-16.7936-42.59328-15.32416-13.95712 1.24416-27.31008 15.92832-26.112 29.04064 0.5376 5.86752 2.6368 11.5968 4.12672 17.36192 2.6368 10.19392 5.34016 20.36736 8.01792 30.5408 0.46592 1.75616 0.896 3.15904 3.34848 3.29216 37.51936 2.048 71.32672 14.25408 101.44768 36.8896 29.6192 22.26176 53.87264 48.96768 70.12864 82.52928 11.92448 24.63232 18.6112 50.64192 20.3776 77.94688 2.36544 36.28544-1.8944 71.7824-16.01536 105.29792z M548.52096 462.01344l-8.77568-33.19808c-20.54656 6.528-38.29248 16.49664-51.58912 33.08544-17.80224 22.21568-21.35552 47.73376-15.67232 74.8544 2.94912 14.08 9.83552 26.13248 21.92384 34.54464 15.11424 10.5216 35.69664 10.06592 51.50208-0.87552 16.1536-11.1872 23.3472-29.22496 18.62656-47.72864-5.1712-20.26496-10.66496-40.45312-16.01536-60.68224z",
        viewBox: '0 0 1024 1024'
    },
    { 
        name: 'MiGu', 
        value: 'migu', 
        gradient: 'linear-gradient(135deg, rgba(40, 110, 180, 0.9) 0%, rgba(90, 170, 220, 0.9) 100%)', 
        svgPath: "M972.8 51.2c-35.84-33.28-74.24-51.2-122.88-51.2H174.08C102.4 0 33.28 48.64 10.24 115.2 2.56 135.68 0 156.16 0 176.64v673.28c0 76.8 51.2 143.36 117.76 163.84 5.12 2.56 7.68 2.56 12.8 5.12h768c2.56-5.12 7.68-5.12 12.8-7.68 51.2-20.48 87.04-53.76 102.4-107.52 0-2.56 2.56-5.12 7.68-7.68V128c-12.8-28.16-25.6-56.32-48.64-76.8zM176.64 675.84c0 5.12-2.56 10.24-2.56 15.36-17.92 12.8-28.16 12.8-46.08 0-5.12-5.12-10.24-7.68-15.36-12.8-35.84-40.96-38.4-128-10.24-171.52 7.68-10.24 15.36-17.92 28.16-25.6 20.48-10.24 28.16-7.68 46.08 7.68 0 2.56 2.56 7.68 2.56 10.24-2.56 58.88-2.56 117.76-2.56 176.64z m611.84-46.08l-2.56 2.56c-10.24 51.2-33.28 97.28-69.12 135.68-102.4 110.08-289.28 115.2-396.8 7.68-43.52-43.52-69.12-92.16-81.92-151.04-5.12-35.84-2.56-69.12 0-104.96 10.24-46.08 28.16-87.04 58.88-122.88 46.08-56.32 104.96-89.6 176.64-102.4 33.28-2.56 66.56-2.56 97.28 2.56 46.08 12.8 87.04 30.72 122.88 61.44 53.76 46.08 87.04 102.4 97.28 174.08 0 2.56 2.56 5.12 2.56 7.68v2.56c0-2.56 0-2.56 2.56-5.12v2.56c0 2.56 0 2.56-2.56 5.12v53.76c-2.56 7.68-2.56 20.48-5.12 30.72z m10.24 58.88s0 2.56 2.56 2.56c-2.56 0-2.56 0-2.56-2.56z m25.6 17.92c-12.8 2.56-17.92-5.12-23.04-15.36v-97.28c0-38.4 5.12-79.36-2.56-117.76-5.12-71.68-35.84-130.56-87.04-181.76-35.84-35.84-79.36-61.44-130.56-71.68-12.8-5.12-25.6-5.12-38.4-7.68-10.24-2.56-15.36 2.56-15.36 12.8V256c0 23.04-7.68 30.72-30.72 28.16-10.24-5.12-15.36-15.36-12.8-28.16v-23.04c2.56-12.8-2.56-17.92-17.92-15.36-120.32 20.48-220.16 122.88-235.52 245.76-7.68 48.64-2.56 94.72-2.56 143.36 0 30.72 5.12 61.44-2.56 89.6-17.92 12.8-25.6 10.24-40.96-5.12v-33.28c0-56.32 2.56-115.2 0-171.52 5.12-71.68 28.16-138.24 74.24-194.56C368.64 151.04 588.8 128 724.48 248.32c66.56 58.88 104.96 130.56 115.2 217.6v202.24c0 5.12 0 12.8 2.56 17.92-2.56 12.8-7.68 20.48-17.92 20.48z m99.84-43.52c-7.68 12.8-17.92 23.04-28.16 33.28-17.92 10.24-30.72 10.24-43.52-7.68-2.56-66.56-2.56-133.12 0-197.12 17.92-15.36 33.28-15.36 56.32 0 12.8 10.24 23.04 25.6 28.16 43.52 10.24 43.52 7.68 84.48-12.8 128z M386.56 481.28c-17.92-5.12-28.16 7.68-35.84 20.48 0 0-2.56 0-2.56 2.56-7.68-10.24-12.8-23.04-28.16-23.04-15.36 0-20.48 10.24-30.72 17.92 0-20.48-15.36-12.8-23.04-15.36-12.8 0-10.24 10.24-10.24 15.36v130.56c0 15.36 5.12 17.92 20.48 17.92 15.36 0 17.92-7.68 17.92-20.48v-81.92c0-7.68 2.56-15.36 10.24-17.92 7.68-2.56 10.24 7.68 12.8 12.8 0 33.28-2.56 66.56 2.56 102.4 2.56 2.56 5.12 2.56 10.24 2.56 25.6 0 25.6 0 25.6-23.04v-74.24c0-7.68 2.56-20.48 12.8-20.48s10.24 10.24 12.8 20.48v87.04c0 10.24 5.12 12.8 15.36 10.24 7.68-2.56 20.48 5.12 20.48-10.24 0-40.96 2.56-81.92-2.56-122.88-5.12-10.24-10.24-25.6-28.16-30.72zM532.48 532.48c0-10.24-2.56-15.36-12.8-15.36-20.48 0-20.48 0-20.48 20.48v33.28c0 10.24 0 20.48-2.56 30.72-2.56 5.12-5.12 10.24-12.8 10.24s-10.24-5.12-10.24-12.8v-15.36-58.88c0-10.24-5.12-12.8-12.8-10.24-10.24 5.12-25.6-2.56-25.6 12.8 0 33.28-2.56 66.56 0 99.84 2.56 12.8 7.68 23.04 20.48 25.6 12.8 2.56 23.04 0 33.28-10.24 2.56-2.56 2.56-5.12 2.56-7.68 5.12 23.04 20.48 15.36 30.72 15.36 12.8 0 7.68-10.24 7.68-17.92 2.56-30.72 2.56-66.56 2.56-99.84zM601.6 570.88c-7.68-2.56-12.8-2.56-20.48-5.12-5.12-2.56-10.24-7.68-5.12-12.8s10.24-5.12 15.36-2.56c2.56 2.56 2.56 5.12 5.12 5.12 10.24 5.12 20.48 2.56 28.16 0 7.68-2.56 2.56-10.24 0-15.36-7.68-15.36-20.48-20.48-35.84-17.92-28.16 0-38.4 10.24-43.52 33.28-5.12 23.04 5.12 40.96 30.72 48.64 7.68 2.56 12.8 2.56 20.48 7.68 7.68 2.56 7.68 7.68 5.12 15.36-5.12 5.12-10.24 7.68-15.36 2.56-2.56-2.56-5.12-7.68-7.68-10.24-10.24-7.68-20.48-2.56-30.72 0-7.68 2.56-2.56 10.24 0 15.36 7.68 20.48 30.72 28.16 53.76 20.48 20.48-5.12 30.72-20.48 30.72-43.52 0-23.04-10.24-35.84-30.72-40.96zM783.36 604.16c-10.24-5.12-20.48-12.8-28.16 2.56-2.56 5.12-5.12 12.8-12.8 10.24-7.68 0-10.24-5.12-10.24-12.8-5.12-12.8-5.12-25.6 0-40.96 5.12-15.36 12.8-17.92 23.04-5.12 7.68 10.24 15.36 2.56 23.04 0 7.68 0 5.12-7.68 2.56-12.8-5.12-15.36-12.8-28.16-30.72-30.72-20.48-2.56-33.28 2.56-43.52 23.04-12.8 25.6-10.24 53.76-2.56 81.92 2.56 12.8 10.24 23.04 23.04 28.16 12.8 2.56 25.6 2.56 35.84-2.56l15.36-23.04v-2.56c2.56-5.12 10.24-10.24 5.12-15.36zM657.92 519.68c-7.68-2.56-12.8 2.56-12.8 10.24v112.64c10.24 10.24 20.48 5.12 30.72 2.56 5.12-40.96 2.56-79.36 2.56-120.32 0-12.8-12.8-5.12-20.48-5.12z m17.92 35.84c0 2.56 0 2.56 0 0zM663.04 468.48c-12.8 0-17.92 5.12-17.92 17.92 0 10.24 0 20.48 15.36 17.92 15.36 2.56 17.92-2.56 17.92-17.92 2.56-12.8 0-17.92-15.36-17.92z",
        viewBox: '0 0 1024 1024'
    },
    { 
        name: 'KuGou', 
        value: 'kugou', 
        gradient: 'linear-gradient(135deg, rgba(50, 160, 100, 0.9) 0%, rgba(70, 180, 170, 0.9) 100%)', 
        svgPath: "M849.92 51.2H174.08c-67.8656 0-122.88 55.0144-122.88 122.88v675.84c0 67.8656 55.0144 122.88 122.88 122.88h675.84c67.8656 0 122.88-55.0144 122.88-122.88V174.08c0-67.8656-55.0144-122.88-122.88-122.88z m-337.92 768c-169.39008 0-307.2-137.80992-307.2-307.2s137.80992-307.2 307.2-307.2 307.2 137.80992 307.2 307.2-137.80992 307.2-307.2 307.2z M512 235.52c-152.45312 0-276.48 124.02688-276.48 276.48s124.02688 276.48 276.48 276.48 276.48-124.032 276.48-276.48-124.02688-276.48-276.48-276.48z m43.008 294.4l103.424 132.61824h-94.208L485.376 549.376c-13.17376-19.968-16.65024-35.29728-16.10752-46.49472l-14.84288 159.65696h-70.656l27.70944-297.984h70.656l-12.5184 134.63552c1.90976-14.06464 10.1632-20.46976 10.1632-20.46976l114.1504-114.16576h87.04S581.63712 464.896 559.616 486.912s-4.608 43.008-4.608 43.008z",
        viewBox: '0 0 1024 1024'
    }
];
// 切换音乐源
const changeSource = (source: string) => {
    store.setCurrentSoundSource(source);
};
</script>

<style scoped lang="less">
#Header {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    width: 80%;
    height: 68px;
    margin: 20px 0 15px;
    padding: 0 10px;
    position: relative;
    z-index: 10;
}

.SourceOption {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32%;
    height: 50px;
    padding: 0 15px;
    background-color: rgba(250, 250, 252, 0.7);
    border-radius: 16px;
    margin: 0 6px;
    cursor: pointer;
    box-shadow: 
        0 2px 10px rgba(0, 0, 0, 0.04),
        0 0 1px rgba(0, 0, 0, 0.1);
    transition: all 0.35s cubic-bezier(0.25, 0.1, 0.25, 1);
    font-weight: 500;
    color: #444;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.7);
    
    // 悬停状态
    &:hover {
        background-color: rgba(255, 255, 255, 0.85);
        box-shadow: 
            0 4px 14px rgba(0, 0, 0, 0.08),
            0 1px 3px rgba(0, 0, 0, 0.05);
        transform: translateY(-1px);
        color: #222;
    }
    
    // 激活状态
    &.active {
        background-color: rgba(255, 255, 255, 0.95);
        color: #000;
        font-weight: 600;
        box-shadow: 
            0 6px 18px rgba(0, 0, 0, 0.08),
            0 2px 4px rgba(0, 0, 0, 0.05);
        transform: translateY(-2px);
        
        .source-icon {
            transform: scale(1.08);
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.15),
                0 1px 4px rgba(0, 0, 0, 0.1);
        }
    }
    
    // 图标样式
    .source-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 34px;
        width: 34px;
        border-radius: 12px;
        margin-right: 12px;
        transition: all 0.35s cubic-bezier(0.25, 0.1, 0.25, 1);
        color: white;
        box-shadow: 
            0 3px 8px rgba(0, 0, 0, 0.12),
            0 1px 3px rgba(0, 0, 0, 0.1);
        
        .icon {
            filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
        }
    }

    span {
        font-size: 15px;
        letter-spacing: -0.2px;
    }
}

@media (prefers-color-scheme: dark) {
    .SourceOption {
        background-color: rgba(45, 45, 50, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: #e2e2e4;
        box-shadow: 
            0 2px 10px rgba(0, 0, 0, 0.2),
            0 0 1px rgba(0, 0, 0, 0.3);
        
        &:hover {
            background-color: rgba(55, 55, 60, 0.85);
            color: #f5f5f7;
            box-shadow: 
                0 4px 14px rgba(0, 0, 0, 0.25),
                0 1px 3px rgba(0, 0, 0, 0.15);
        }
        
        &.active {
            background-color: rgba(65, 65, 70, 0.95);
            color: #ffffff;
            box-shadow: 
                0 6px 18px rgba(0, 0, 0, 0.3),
                0 2px 4px rgba(0, 0, 0, 0.15);
        }
        
        .source-icon {
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.3),
                0 1px 3px rgba(0, 0, 0, 0.25);
        }
    }
}

@media (max-width: 600px) {
    .SourceOption {
        height: 46px;
        font-size: 14px;
        padding: 0 10px;
        
        .source-icon {
            height: 30px;
            width: 30px;
            margin-right: 8px;
            border-radius: 10px;
        }
        
        span {
            font-size: 14px;
        }
    }
    
    #Header {
        height: 60px;
        margin-top: 15px;
        margin-bottom: 10px;
    }
}
</style>